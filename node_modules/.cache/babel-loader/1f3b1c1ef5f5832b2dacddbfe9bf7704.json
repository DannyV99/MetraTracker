{"ast":null,"code":"import _classCallCheck from \"/Users/daniel/Desktop/trainschedule/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniel/Desktop/trainschedule/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daniel/Desktop/trainschedule/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniel/Desktop/trainschedule/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daniel/Desktop/trainschedule/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/daniel/Desktop/trainschedule/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Weather from './Weather';\nimport Clock from 'react-clock';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      databaseTimes: []\n    };\n\n    _this.edisonAPI = function (_) {\n      _this.getInfo('WeekdaysToTheCity');\n    };\n\n    _this.otcAPI = function (_) {\n      _this.getInfo('WeekdaysFromTheCity');\n    };\n\n    _this.getInfo = function (a) {\n      fetch('http://localhost:4000/' + a).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        return _this.setState({\n          databaseTimes: response.data\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    };\n\n    _this.currentTime = function (a, b) {\n      var newDate = new Date();\n      var hours = newDate.getHours();\n      var minutes = newDate.getMinutes();\n      return minutes < 10 ? hours + \"0\" + minutes : hours + \"\" + minutes;\n    };\n\n    _this.renderStop = function (_ref) {\n      var TrainStop = _ref.TrainStop;\n      return React.createElement(\"li\", {\n        key: TrainStop.PRIMARY_KEY,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, TrainStop);\n    };\n\n    _this.renderTime = function (_ref2) {\n      var DepartureTime = _ref2.DepartureTime;\n      return React.createElement(\"li\", {\n        key: DepartureTime.PRIMARY_KEY,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, DepartureTime);\n    };\n\n    _this.renderToGo = function (_ref3) {\n      var MinutesToGo = _ref3.MinutesToGo;\n      return React.createElement(\"div\", {\n        key: MinutesToGo.PRIMARY_KEY,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, MinutesToGo);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // list of trains {TrainStop: String, DepartureTime: Int, id: Int}\n      // filter out old trains\n      // convert to int\n      var databaseTimes = this.state.databaseTimes; // bucket is an array of train objects\n\n      var bucket = databaseTimes.filter(function (e) {\n        return e.DepartureTime > _this2.currentTime();\n      });\n      var newBucket = bucket.map(function (x) {\n        return Object.assign({\n          MinutesToGo: timeConvert(parseInt(x.DepartureTime) - parseInt(_this2.currentTime()))\n        }, x);\n      });\n\n      function timeConvert(n) {\n        var num = n;\n        var hours = num / 60;\n        var rhours = Math.floor(hours);\n        var minutes = (hours - rhours) * 60;\n        var rminutes = Math.round(minutes);\n\n        if (rhours > 0) {\n          return \"Plenty of Time\";\n        } else {\n          return rhours + \" hr(s) and \" + rminutes + \" min(s)\";\n        }\n      }\n\n      var STATION = React.createElement(\"li\", {\n        className: \"div1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, newBucket.map(this.renderStop));\n      var TIME = React.createElement(\"li\", {\n        className: \"div2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, newBucket.map(this.renderTime));\n      var MINUTESTOGO = newBucket.map(this.renderToGo)[0];\n      var EDISONPARK = React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.edisonAPI,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"EDISON PARK\");\n      var OGLEVIE = React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.otcAPI,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"OGLEVIE TRANSPORTATION CENTER\");\n      return React.createElement(\"div\", {\n        className: \"bigBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Weather, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"iframe\", {\n        className: \"\",\n        src: \"http://free.timeanddate.com/clock/i6jjvvaq/n64/szw160/szh160/hoc000/hbw4/cf100/hgr0/fav0/fiv0/mqc000/mqs3/mql25/mqw6/mqd96/mhc000/mhs3/mhl20/mhw6/mhd96/mmc000/mms3/mml10/mmw2/mmd96/hhw16/hmw16/hmr4/hsc000/hss3/hsl90\",\n        frameborder: \"0\",\n        width: \"160\",\n        height: \"160\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, EDISONPARK, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), OGLEVIE), React.createElement(\"div\", {\n        className: \"div3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, 'You have:', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), MINUTESTOGO, 'Until Departure'), React.createElement(\"div\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Train Station\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Departure Times\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, STATION), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, TIME))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/daniel/Desktop/trainschedule/src/App.js"],"names":["React","Component","Weather","Clock","App","state","databaseTimes","edisonAPI","_","getInfo","otcAPI","a","fetch","then","response","json","setState","data","catch","err","console","error","currentTime","b","newDate","Date","hours","getHours","minutes","getMinutes","renderStop","TrainStop","PRIMARY_KEY","renderTime","DepartureTime","renderToGo","MinutesToGo","bucket","filter","e","newBucket","map","x","Object","assign","timeConvert","parseInt","n","num","rhours","Math","floor","rminutes","round","STATION","TIME","MINUTESTOGO","EDISONPARK","OGLEVIE"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Weather from './Weather'\nimport Clock from 'react-clock'\n\nclass App extends Component {\n\n  state = {\n    databaseTimes: [],\n  }\n\n  componentDidMount() {\n  }\n\n  edisonAPI = _ => {\n    this.getInfo('WeekdaysToTheCity')\n  }\n\n  otcAPI = _ => {\n    this.getInfo('WeekdaysFromTheCity')\n  }\n\n  getInfo = (a) => {\n    fetch('http://localhost:4000/' + a)\n      .then(response => response.json())\n      .then(response => this.setState(\n        { databaseTimes: response.data }))\n      .catch(err => console.error(err))\n  }\n\n\n  currentTime = (a, b) => {\n    var newDate = new Date()\n    var hours = newDate.getHours()\n    var minutes = newDate.getMinutes()\n\n    return minutes < 10 ? hours + \"0\" + minutes : hours + \"\" + minutes;\n  }\n\n  renderStop = ({ TrainStop }) => <li key={TrainStop.PRIMARY_KEY}>{TrainStop}</li>\n  renderTime = ({ DepartureTime }) => <li key={DepartureTime.PRIMARY_KEY}>{DepartureTime}</li>\n  renderToGo = ({ MinutesToGo }) => <div key={MinutesToGo.PRIMARY_KEY}>{MinutesToGo}</div>\n\n\n  render() {\n\n    // list of trains {TrainStop: String, DepartureTime: Int, id: Int}\n    // filter out old trains\n    // convert to int\n\n\n    const { databaseTimes } = this.state;\n\n\n\n    // bucket is an array of train objects\n    var bucket = databaseTimes.filter(e => e.DepartureTime > this.currentTime());\n    var newBucket = bucket.map(x => Object.assign({ MinutesToGo: timeConvert((parseInt(x.DepartureTime)) - (parseInt(this.currentTime()))) }, x));\n\n\n\n    function timeConvert(n) {\n      var num = n;\n      var hours = (num / 60);\n      var rhours = Math.floor(hours);\n      var minutes = (hours - rhours) * 60;\n      var rminutes = Math.round(minutes);\n      if (rhours > 0) {\n        return \"Plenty of Time\"\n      } else { return rhours + \" hr(s) and \" + rminutes + \" min(s)\" }\n    }\n\n    const STATION = <li className='div1'>{newBucket.map(this.renderStop)}</li>\n    const TIME = <li className='div2'>{newBucket.map(this.renderTime)}</li>\n    const MINUTESTOGO = newBucket.map(this.renderToGo)[0]\n    const EDISONPARK = <button type=\"submit\" onClick={this.edisonAPI}>EDISON PARK</button>\n    const OGLEVIE = <button type=\"submit\" onClick={this.otcAPI}>OGLEVIE TRANSPORTATION CENTER</button>\n\n\n\n    \n\n\n\n\n    return (\n\n      <div className=\"bigBox\">\n        <div className=\"App\">\n\n          <Weather />\n          <iframe className = \"\" src=\"http://free.timeanddate.com/clock/i6jjvvaq/n64/szw160/szh160/hoc000/hbw4/cf100/hgr0/fav0/fiv0/mqc000/mqs3/mql25/mqw6/mqd96/mhc000/mhs3/mhl20/mhw6/mhd96/mmc000/mms3/mml10/mmw2/mmd96/hhw16/hmw16/hmr4/hsc000/hss3/hsl90\" frameborder=\"0\" width=\"160\" height=\"160\"></iframe>\n\n          <h1>{EDISONPARK}<br></br>\n            {OGLEVIE}</h1>\n\n\n\n          <div className='div3'>\n            {'You have:'}<br></br>\n            {MINUTESTOGO}\n            {'Until Departure'}\n          </div>\n\n          <div className='table'>\n            <table>\n              <tr>\n                <th>Train Station</th>\n                <th>Departure Times</th>\n              </tr>\n              <tr>\n                <td>{STATION}</td>\n                <td>{TIME}</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}